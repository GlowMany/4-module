{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../../src/project/versioned/v0_2_0/types.ts"],"names":[],"mappings":";AAAA,gEAAgE;AAChE,sCAAsC;;;AAEtC,wCAUsB;AAiCtB,SAAgB,yBAAyB,CAAC,UAA2B;IACnE,OAAO,UAAU,CAAC,IAAI,KAAK,2BAAmB,CAAC,OAAO,IAAI,CAAC,CAAE,UAAsC,CAAC,OAAO,CAAC,IAAI,CAAC;AACnH,CAAC;AAFD,8DAEC","sourcesContent":["// Copyright 2020-2021 OnFinality Limited authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  SubqlCustomDatasource,\n  SubqlCustomHandler,\n  SubqlDatasource,\n  SubqlDatasourceKind,\n  SubqlHandler,\n  SubqlMapping,\n  SubqlNetworkFilter,\n  SubqlRuntimeDatasource,\n  SubqlRuntimeHandler,\n} from '@subql/types';\nimport {IProjectManifest} from '../../types';\n\nexport interface SubqlMappingV0_2_0<T extends SubqlHandler> extends SubqlMapping<T> {\n  file: string;\n}\n\nexport type RuntimeDataSourceV0_2_0 = SubqlRuntimeDatasource<SubqlMappingV0_2_0<SubqlRuntimeHandler>>;\nexport type CustomDatasourceV0_2_0 = SubqlCustomDatasource<\n  string,\n  SubqlNetworkFilter,\n  SubqlMappingV0_2_0<SubqlCustomHandler>\n>;\n\nexport interface ProjectManifestV0_2_0 extends IProjectManifest {\n  name: string;\n  version: string;\n  schema: {\n    file: string;\n  };\n\n  network: {\n    genesisHash: string;\n    endpoint?: string;\n    dictionary?: string;\n    chaintypes?: {\n      file: string;\n    };\n  };\n\n  dataSources: (RuntimeDataSourceV0_2_0 | CustomDatasourceV0_2_0)[];\n}\n\nexport function isRuntimeDataSourceV0_2_0(dataSource: SubqlDatasource): dataSource is RuntimeDataSourceV0_2_0 {\n  return dataSource.kind === SubqlDatasourceKind.Runtime && !!(dataSource as RuntimeDataSourceV0_2_0).mapping.file;\n}\n"]}