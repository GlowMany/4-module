{"version":3,"file":"codegen.js","sourceRoot":"","sources":["../../src/commands/codegen.ts"],"names":[],"mappings":";AAAA,gEAAgE;AAChE,sCAAsC;;;AAEtC,6DAAwB;AACxB,4CAA8C;AAC9C,yEAAyD;AAEzD,MAAqB,OAAQ,SAAQ,iBAAO;IAS1C,KAAK,CAAC,GAAG;QACP,MAAM,EAAC,KAAK,EAAC,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;QAC5C,IAAI,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;QAC5C,IAAI,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;QAE5C,MAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,cAAI,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QAC/E,IAAI;YACF,MAAM,IAAA,4BAAO,EAAC,QAAQ,CAAC,CAAC;SACzB;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAC3B,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SACjB;IACH,CAAC;;AAtBH,0BAuBC;AAtBQ,mBAAW,GAAG,iCAAiC,CAAC;AAEhD,aAAK,GAAG;IACb,KAAK,EAAE,eAAK,CAAC,OAAO,CAAC,EAAC,IAAI,EAAE,GAAG,EAAC,CAAC;IACjC,IAAI,EAAE,eAAK,CAAC,MAAM,EAAE;IACpB,QAAQ,EAAE,eAAK,CAAC,MAAM,CAAC,EAAC,IAAI,EAAE,GAAG,EAAE,WAAW,EAAE,gCAAgC,EAAC,CAAC;CACnF,CAAC","sourcesContent":["// Copyright 2020-2021 OnFinality Limited authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\nimport path from 'path';\nimport {Command, flags} from '@oclif/command';\nimport {codegen} from '../controller/codegen-controller';\n\nexport default class Codegen extends Command {\n  static description = 'Generate schemas for graph node';\n\n  static flags = {\n    force: flags.boolean({char: 'f'}),\n    file: flags.string(),\n    location: flags.string({char: 'l', description: 'local folder to run codegen in'}),\n  };\n\n  async run(): Promise<void> {\n    const {flags} = this.parse(Codegen);\n    this.log('===============================');\n    this.log('---------Subql Codegen---------');\n    this.log('===============================');\n\n    const location = flags.location ? path.resolve(flags.location) : process.cwd();\n    try {\n      await codegen(location);\n    } catch (err) {\n      console.error(err.message);\n      process.exit(1);\n    }\n  }\n}\n"]}