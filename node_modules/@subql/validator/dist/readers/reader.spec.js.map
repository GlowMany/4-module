{"version":3,"file":"reader.spec.js","sourceRoot":"","sources":["../../src/readers/reader.spec.ts"],"names":[],"mappings":";AAAA,gEAAgE;AAChE,sCAAsC;;;;;AAEtC,gDAAwB;AACxB,mDAA6C;AAC7C,+CAAyC;AACzC,iDAA2C;AAC3C,qCAAuC;AAEvC,QAAQ,CAAC,eAAe,EAAE,GAAG,EAAE;IAC7B,EAAE,CAAC,iCAAiC,EAAE,GAAG,EAAE;QACzC,MAAM,GAAG,GAAG,2CAA2C,CAAC;QACxD,MAAM,MAAM,GAAG,sBAAa,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACzC,MAAM,CAAC,MAAM,YAAY,4BAAY,CAAC,CAAC,UAAU,EAAE,CAAC;IACtD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gCAAgC,EAAE,GAAG,EAAE;QACxC,MAAM,GAAG,GAAG,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;QACnD,MAAM,MAAM,GAAG,sBAAa,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACzC,MAAM,CAAC,MAAM,YAAY,0BAAW,CAAC,CAAC,UAAU,EAAE,CAAC;IACrD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,4CAA4C,EAAE,GAAG,EAAE;QACpD,MAAM,GAAG,GAAG,gDAAgD,CAAC;QAC7D,MAAM,MAAM,GAAG,sBAAa,CAAC,MAAM,CAAC,GAAG,EAAE,EAAC,IAAI,EAAE,qCAAqC,EAAC,CAAC,CAAC;QAExF,MAAM,CAAC,MAAM,YAAY,wBAAU,CAAC,CAAC,UAAU,EAAE,CAAC;IACpD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,4CAA4C,EAAE,GAAG,EAAE;QACpD,MAAM,GAAG,GAAG,6DAA6D,CAAC;QAC1E,MAAM,MAAM,GAAG,sBAAa,CAAC,MAAM,CAAC,GAAG,EAAE,EAAC,IAAI,EAAE,qCAAqC,EAAC,CAAC,CAAC;QAExF,MAAM,CAAC,MAAM,YAAY,wBAAU,CAAC,CAAC,UAAU,EAAE,CAAC;IACpD,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2020-2021 OnFinality Limited authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\nimport path from 'path';\nimport {GithubReader} from './github-reader';\nimport {IPFSReader} from './ipfs-reader';\nimport {LocalReader} from './local-reader';\nimport {ReaderFactory} from './reader';\n\ndescribe('ReaderFactory', () => {\n  it('should return the Github Reader', () => {\n    const url = 'https://github.com/subquery/subql-starter';\n    const reader = ReaderFactory.create(url);\n    expect(reader instanceof GithubReader).toBeTruthy();\n  });\n\n  it('should return the Local Reader', () => {\n    const loc = path.join(__dirname, '../../fixtures');\n    const reader = ReaderFactory.create(loc);\n    expect(reader instanceof LocalReader).toBeTruthy();\n  });\n\n  it('should return the IPFS Reader for a CID v0', () => {\n    const loc = 'QmYyCCSaHLpPvZmex5ExHGdW7mavKYeiixVEyvNGwD1LLw';\n    const reader = ReaderFactory.create(loc, {ipfs: 'https://ipfs.thechainhub.com/api/v0'});\n\n    expect(reader instanceof IPFSReader).toBeTruthy();\n  });\n\n  it('should return the IPFS Reader for a CID v1', () => {\n    const loc = 'bafybeie56fq7db5adfyt3afqwhje6pq2m77gn5ik6pg75bioger6kzjn6a';\n    const reader = ReaderFactory.create(loc, {ipfs: 'https://ipfs.thechainhub.com/api/v0'});\n\n    expect(reader instanceof IPFSReader).toBeTruthy();\n  });\n});\n"]}