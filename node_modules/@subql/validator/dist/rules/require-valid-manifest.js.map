{"version":3,"file":"require-valid-manifest.js","sourceRoot":"","sources":["../../src/rules/require-valid-manifest.ts"],"names":[],"mappings":";AAAA,gEAAgE;AAChE,sCAAsC;;;AAGtC,iCAAsC;AAEtC,MAAa,oBAAoB;IAAjC;QACE,SAAI,GAAG,eAAQ,CAAC,MAAM,CAAC;QACvB,SAAI,GAAG,wBAAwB,CAAC;QAChC,gBAAW,GAAG,sCAAsC,CAAC;IAavD,CAAC;IAXC,QAAQ,CAAC,GAAY;QACnB,MAAM,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;QAE/B,IAAI;YACF,MAAM,CAAC,QAAQ,EAAE,CAAC;YAClB,OAAO,IAAI,CAAC;SACb;QAAC,OAAO,CAAC,EAAE;YACV,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;YAC5B,OAAO,KAAK,CAAC;SACd;IACH,CAAC;CACF;AAhBD,oDAgBC","sourcesContent":["// Copyright 2020-2021 OnFinality Limited authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\nimport {Context} from '../context';\nimport {Rule, RuleType} from './rule';\n\nexport class RequireValidManifest implements Rule {\n  type = RuleType.Schema;\n  name = 'require-valid-manifest';\n  description = '`project.yaml` must match the schema';\n\n  validate(ctx: Context): boolean {\n    const schema = ctx.data.schema;\n\n    try {\n      schema.validate();\n      return true;\n    } catch (e) {\n      ctx.logger.error(e.message);\n      return false;\n    }\n  }\n}\n"]}