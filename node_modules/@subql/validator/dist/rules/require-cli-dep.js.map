{"version":3,"file":"require-cli-dep.js","sourceRoot":"","sources":["../../src/rules/require-cli-dep.ts"],"names":[],"mappings":";AAAA,gEAAgE;AAChE,sCAAsC;;;AAGtC,iCAAsC;AAEtC,MAAa,aAAa;IAA1B;QACE,SAAI,GAAG,eAAQ,CAAC,WAAW,CAAC;QAC5B,SAAI,GAAG,iBAAiB,CAAC;QACzB,gBAAW,GAAG,gEAAgE,CAAC;IASjF,CAAC;IAPC,QAAQ,CAAC,GAAY;;QACnB,MAAM,OAAO,GAAG,YAAY,CAAC;QAC7B,OAAO,CACL,MAAM,CAAC,IAAI,CAAC,MAAA,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,mCAAI,EAAE,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC;YACjE,MAAM,CAAC,IAAI,CAAC,MAAA,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,mCAAI,EAAE,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAC/D,CAAC;IACJ,CAAC;CACF;AAZD,sCAYC","sourcesContent":["// Copyright 2020-2021 OnFinality Limited authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\nimport {Context} from '../context';\nimport {Rule, RuleType} from './rule';\n\nexport class RequireCliDep implements Rule {\n  type = RuleType.PackageJSON;\n  name = 'require-cli-dep';\n  description = '`@subql/cli` must be defined as a dependency in `package.json`';\n\n  validate(ctx: Context): boolean {\n    const pkgName = '@subql/cli';\n    return (\n      Object.keys(ctx.data.pkg.devDependencies ?? {}).includes(pkgName) ||\n      Object.keys(ctx.data.pkg.dependencies ?? {}).includes(pkgName)\n    );\n  }\n}\n"]}