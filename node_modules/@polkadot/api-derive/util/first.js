// Copyright 2017-2021 @polkadot/api-derive authors & contributors
// SPDX-License-Identifier: Apache-2.0
import { map } from 'rxjs';
import { memo } from '@polkadot/rpc-core'; // We are re-exporting these from here to ensure that *.d.ts generation is correct

export function firstObservable(obs) {
  return obs.pipe(map(([a]) => a));
}
export function firstMemo(fn) {
  return (instanceId, api) => memo(instanceId, (...args) => firstObservable(fn(api, ...args)));
}